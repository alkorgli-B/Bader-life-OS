<!DOCTYPE html>

<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bader's Life OS | Ù„ÙˆØ­Ø© Ø­ÙŠØ§Ø© Ø¨Ø¯Ø±</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&family=Outfit:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
:root {
  --bg-deep: #0a0e1a;
  --bg-card: #111827;
  --bg-card-hover: #1a2237;
  --bg-elevated: #1e293b;
  --accent-gold: #f59e0b;
  --accent-gold-dim: #b45309;
  --accent-emerald: #10b981;
  --accent-blue: #3b82f6;
  --accent-purple: #8b5cf6;
  --accent-rose: #f43f5e;
  --accent-cyan: #06b6d4;
  --text-primary: #f1f5f9;
  --text-secondary: #94a3b8;
  --text-muted: #64748b;
  --border: rgba(255,255,255,0.06);
  --border-active: rgba(245,158,11,0.4);
  --glow-gold: 0 0 30px rgba(245,158,11,0.15);
  --radius: 16px;
  --radius-sm: 10px;
}

- { margin:0; padding:0; box-sizing:border-box; }

body {
font-family: â€˜Cairoâ€™, â€˜Outfitâ€™, sans-serif;
background: var(â€“bg-deep);
color: var(â€“text-primary);
min-height: 100vh;
overflow-x: hidden;
}

/* Ambient Background */
.ambient-bg {
position: fixed; inset: 0; z-index: 0; pointer-events: none;
background:
radial-gradient(ellipse 800px 600px at 20% 20%, rgba(245,158,11,0.06), transparent),
radial-gradient(ellipse 600px 500px at 80% 80%, rgba(59,130,246,0.05), transparent),
radial-gradient(ellipse 500px 400px at 50% 50%, rgba(139,92,246,0.03), transparent);
}

/* Stars effect */
.stars {
position: fixed; inset: 0; z-index: 0; pointer-events: none;
}
.star {
position: absolute;
width: 2px; height: 2px;
background: rgba(255,255,255,0.4);
border-radius: 50%;
animation: twinkle var(â€“dur) ease-in-out infinite alternate;
}
@keyframes twinkle { 0%{opacity:0.2;transform:scale(0.8)} 100%{opacity:1;transform:scale(1.2)} }

/* Layout */
.app-container {
position: relative; z-index: 1;
max-width: 1400px; margin: 0 auto; padding: 20px;
min-height: 100vh;
}

/* Header */
.header {
display: flex; align-items: center; justify-content: space-between;
padding: 24px 0; margin-bottom: 24px;
border-bottom: 1px solid var(â€“border);
}
.header-right {
display: flex; align-items: center; gap: 16px;
}
.logo-icon {
width: 48px; height: 48px;
background: linear-gradient(135deg, var(â€“accent-gold), var(â€“accent-gold-dim));
border-radius: 14px;
display: flex; align-items: center; justify-content: center;
font-size: 24px; font-weight: 800;
font-family: â€˜Outfitâ€™;
box-shadow: var(â€“glow-gold);
animation: logoPulse 3s ease-in-out infinite;
}
@keyframes logoPulse {
0%,100%{box-shadow: 0 0 20px rgba(245,158,11,0.15)}
50%{box-shadow: 0 0 40px rgba(245,158,11,0.3)}
}
.header-title h1 {
font-size: 22px; font-weight: 700;
background: linear-gradient(135deg, var(â€“accent-gold), #fbbf24);
-webkit-background-clip: text; -webkit-text-fill-color: transparent;
}
.header-subtitle { font-size: 13px; color: var(â€“text-muted); font-family:â€˜Outfitâ€™; }

.header-left { display: flex; align-items: center; gap: 12px; }
.greeting-time {
text-align: left; direction: ltr;
font-family: â€˜JetBrains Monoâ€™; font-size: 13px; color: var(â€“text-secondary);
}
.lang-toggle {
background: var(â€“bg-card); border: 1px solid var(â€“border);
color: var(â€“text-secondary); padding: 8px 14px;
border-radius: var(â€“radius-sm); cursor: pointer;
font-family: â€˜Cairoâ€™; font-size: 13px; transition: all 0.3s;
}
.lang-toggle:hover { border-color: var(â€“accent-gold); color: var(â€“accent-gold); }

/* Motivation Banner */
.motivation-banner {
background: linear-gradient(135deg, rgba(245,158,11,0.08), rgba(59,130,246,0.06));
border: 1px solid rgba(245,158,11,0.15);
border-radius: var(â€“radius);
padding: 20px 28px; margin-bottom: 24px;
display: flex; align-items: center; justify-content: space-between;
cursor: pointer; transition: all 0.4s;
position: relative; overflow: hidden;
}
.motivation-banner::before {
content: â€˜â€™; position: absolute; inset: 0;
background: linear-gradient(90deg, transparent, rgba(245,158,11,0.05), transparent);
animation: shimmer 3s infinite;
}
@keyframes shimmer { 0%{transform:translateX(-100%)} 100%{transform:translateX(100%)} }
.motivation-banner:hover { border-color: rgba(245,158,11,0.35); transform: translateY(-1px); }
.motivation-text {
font-size: 16px; font-weight: 600; position: relative; z-index: 1;
line-height: 1.7;
}
.motivation-icon { font-size: 32px; position: relative; z-index: 1; }

/* Tab Navigation */
.tab-nav {
display: flex; gap: 6px; margin-bottom: 24px;
background: var(â€“bg-card); border-radius: var(â€“radius);
padding: 6px; border: 1px solid var(â€“border);
overflow-x: auto; scrollbar-width: none;
}
.tab-nav::-webkit-scrollbar { display: none; }
.tab-btn {
flex: 1; min-width: max-content;
padding: 12px 18px; border: none; border-radius: var(â€“radius-sm);
background: transparent; color: var(â€“text-muted);
font-family: â€˜Cairoâ€™; font-size: 14px; font-weight: 600;
cursor: pointer; transition: all 0.3s;
display: flex; align-items: center; gap: 8px; justify-content: center;
white-space: nowrap;
}
.tab-btn:hover { color: var(â€“text-secondary); background: rgba(255,255,255,0.03); }
.tab-btn.active {
background: linear-gradient(135deg, rgba(245,158,11,0.15), rgba(245,158,11,0.08));
color: var(â€“accent-gold); box-shadow: 0 2px 10px rgba(245,158,11,0.1);
}
.tab-icon { font-size: 18px; }

/* Tab Content */
.tab-content { display: none; animation: fadeUp 0.4s ease; }
.tab-content.active { display: block; }
@keyframes fadeUp { from{opacity:0;transform:translateY(12px)} to{opacity:1;transform:translateY(0)} }

/* Card Styles */
.card {
background: var(â€“bg-card);
border: 1px solid var(â€“border);
border-radius: var(â€“radius);
padding: 24px; margin-bottom: 16px;
transition: all 0.3s;
}
.card:hover { border-color: rgba(255,255,255,0.1); background: var(â€“bg-card-hover); }
.card-header {
display: flex; align-items: center; justify-content: space-between;
margin-bottom: 16px;
}
.card-title {
font-size: 16px; font-weight: 700;
display: flex; align-items: center; gap: 10px;
}
.card-badge {
font-size: 11px; padding: 3px 10px;
border-radius: 20px; font-weight: 600;
font-family: â€˜JetBrains Monoâ€™;
}

/* Grid Layouts */
.grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
.grid-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; }

/* Stat Cards */
.stat-card {
background: var(â€“bg-card); border: 1px solid var(â€“border);
border-radius: var(â€“radius); padding: 20px;
text-align: center; transition: all 0.3s;
position: relative; overflow: hidden;
}
.stat-card::after {
content: â€˜â€™; position: absolute; top: 0; left: 0; right: 0;
height: 3px; border-radius: 3px 3px 0 0;
}
.stat-card.gold::after { background: var(â€“accent-gold); }
.stat-card.emerald::after { background: var(â€“accent-emerald); }
.stat-card.blue::after { background: var(â€“accent-blue); }
.stat-card.purple::after { background: var(â€“accent-purple); }
.stat-card.rose::after { background: var(â€“accent-rose); }
.stat-card.cyan::after { background: var(â€“accent-cyan); }
.stat-icon { font-size: 28px; margin-bottom: 8px; }
.stat-value {
font-size: 28px; font-weight: 800;
font-family: â€˜Outfitâ€™; margin-bottom: 4px;
}
.stat-label { font-size: 12px; color: var(â€“text-muted); }

/* Habits */
.habit-item {
display: flex; align-items: center; gap: 14px;
padding: 14px 16px; border-radius: var(â€“radius-sm);
border: 1px solid var(â€“border); margin-bottom: 8px;
cursor: pointer; transition: all 0.3s;
}
.habit-item:hover { border-color: rgba(255,255,255,0.1); }
.habit-item.completed { border-color: rgba(16,185,129,0.3); background: rgba(16,185,129,0.05); }
.habit-check {
width: 28px; height: 28px; border-radius: 8px;
border: 2px solid var(â€“text-muted);
display: flex; align-items: center; justify-content: center;
font-size: 14px; transition: all 0.3s; flex-shrink: 0;
}
.habit-item.completed .habit-check {
background: var(â€“accent-emerald); border-color: var(â€“accent-emerald); color: white;
}
.habit-name { flex: 1; font-size: 14px; font-weight: 500; }
.habit-streak {
font-family: â€˜JetBrains Monoâ€™; font-size: 12px;
color: var(â€“accent-gold); background: rgba(245,158,11,0.1);
padding: 3px 10px; border-radius: 20px;
}

/* Goals */
.goal-item {
padding: 18px; border-radius: var(â€“radius-sm);
border: 1px solid var(â€“border); margin-bottom: 12px;
transition: all 0.3s;
}
.goal-item:hover { border-color: rgba(255,255,255,0.1); }
.goal-top { display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px; }
.goal-name { font-size: 15px; font-weight: 600; }
.goal-percent { font-family: â€˜JetBrains Monoâ€™; font-size: 13px; color: var(â€“accent-gold); }
.goal-bar { height: 6px; background: rgba(255,255,255,0.06); border-radius: 3px; overflow: hidden; }
.goal-fill {
height: 100%; border-radius: 3px;
background: linear-gradient(90deg, var(â€“accent-gold), var(â€“accent-emerald));
transition: width 1s ease;
}

/* Journal */
.journal-entry {
padding: 18px; border-radius: var(â€“radius-sm);
border: 1px solid var(â€“border); margin-bottom: 10px;
}
.journal-date { font-family:â€˜JetBrains Monoâ€™; font-size:12px; color:var(â€“text-muted); margin-bottom:6px; }
.journal-text { font-size:14px; line-height:1.8; color:var(â€“text-secondary); }

/* Input Styles */
.input-row { display: flex; gap: 10px; margin-top: 12px; }
.text-input {
flex: 1; padding: 12px 16px;
background: var(â€“bg-elevated); border: 1px solid var(â€“border);
border-radius: var(â€“radius-sm); color: var(â€“text-primary);
font-family: â€˜Cairoâ€™; font-size: 14px; outline: none;
transition: border-color 0.3s;
}
.text-input:focus { border-color: var(â€“accent-gold); }
.text-input::placeholder { color: var(â€“text-muted); }
textarea.text-input { min-height: 80px; resize: vertical; }
.btn {
padding: 12px 20px; border: none; border-radius: var(â€“radius-sm);
font-family: â€˜Cairoâ€™; font-size: 14px; font-weight: 600;
cursor: pointer; transition: all 0.3s;
}
.btn-gold {
background: linear-gradient(135deg, var(â€“accent-gold), var(â€“accent-gold-dim));
color: #000;
}
.btn-gold:hover { transform: translateY(-1px); box-shadow: 0 4px 15px rgba(245,158,11,0.3); }
.btn-ghost {
background: transparent; border: 1px solid var(â€“border);
color: var(â€“text-secondary);
}
.btn-ghost:hover { border-color: var(â€“text-muted); }
.btn-sm { padding: 8px 14px; font-size: 13px; }
.btn-danger { background: rgba(244,63,94,0.15); color: var(â€“accent-rose); border: 1px solid rgba(244,63,94,0.2); }

/* Pomodoro */
.pomodoro-display {
text-align: center; padding: 40px 20px;
}
.pomodoro-time {
font-family: â€˜JetBrains Monoâ€™; font-size: 72px; font-weight: 700;
color: var(â€“text-primary); margin-bottom: 8px;
letter-spacing: 4px;
}
.pomodoro-label { font-size: 14px; color: var(â€“text-muted); margin-bottom: 24px; }
.pomodoro-controls { display: flex; gap: 12px; justify-content: center; }
.pomodoro-stats { display: flex; gap: 20px; justify-content: center; margin-top: 24px; }
.pomo-stat { text-align: center; }
.pomo-stat-val { font-family:â€˜JetBrains Monoâ€™; font-size:20px; font-weight:700; color:var(â€“accent-gold); }
.pomo-stat-lbl { font-size:12px; color:var(â€“text-muted); }

/* Skill tree */
.skill-item {
display: flex; align-items: center; gap: 14px;
padding: 14px 16px; border: 1px solid var(â€“border);
border-radius: var(â€“radius-sm); margin-bottom: 8px;
}
.skill-level {
width: 36px; height: 36px; border-radius: 10px;
display: flex; align-items: center; justify-content: center;
font-family: â€˜Outfitâ€™; font-weight: 700; font-size: 16px;
flex-shrink: 0;
}
.skill-info { flex: 1; }
.skill-name { font-size: 14px; font-weight: 600; margin-bottom: 4px; }
.skill-xp-bar { height: 4px; background: rgba(255,255,255,0.06); border-radius: 2px; }
.skill-xp-fill { height: 100%; border-radius: 2px; transition: width 0.8s; }

/* Finance */
.finance-total {
text-align: center; padding: 20px;
border-bottom: 1px solid var(â€“border); margin-bottom: 16px;
}
.finance-amount {
font-family: â€˜JetBrains Monoâ€™; font-size: 36px; font-weight: 700;
direction: ltr;
}
.finance-item {
display: flex; align-items: center; justify-content: space-between;
padding: 12px 16px; border-radius: var(â€“radius-sm);
border: 1px solid var(â€“border); margin-bottom: 6px;
}
.finance-item-name { font-size: 14px; }
.finance-item-amount {
font-family: â€˜JetBrains Monoâ€™; font-size: 14px; font-weight: 600; direction: ltr;
}
.income { color: var(â€“accent-emerald); }
.expense { color: var(â€“accent-rose); }

/* Dua / Azkar */
.dua-card {
background: linear-gradient(135deg, rgba(139,92,246,0.08), rgba(59,130,246,0.05));
border: 1px solid rgba(139,92,246,0.15);
border-radius: var(â€“radius); padding: 24px;
text-align: center; margin-bottom: 12px;
}
.dua-text {
font-size: 20px; line-height: 2; font-weight: 600;
margin-bottom: 12px;
}
.dua-counter {
display: flex; align-items: center; justify-content: center; gap: 16px;
}
.counter-btn {
width: 44px; height: 44px; border-radius: 12px;
background: rgba(139,92,246,0.15); border: 1px solid rgba(139,92,246,0.25);
color: var(â€“accent-purple); font-size: 20px;
cursor: pointer; transition: all 0.3s;
display: flex; align-items: center; justify-content: center;
}
.counter-btn:hover { background: rgba(139,92,246,0.25); }
.counter-val {
font-family: â€˜JetBrains Monoâ€™; font-size: 28px; font-weight: 700;
color: var(â€“accent-purple); min-width: 60px;
}

/* Notes */
.note-card {
padding: 16px; border: 1px solid var(â€“border);
border-radius: var(â€“radius-sm); margin-bottom: 8px;
border-right: 3px solid var(â€“accent-blue);
}
.note-title { font-size: 14px; font-weight: 600; margin-bottom: 6px; }
.note-body { font-size: 13px; color: var(â€“text-secondary); line-height: 1.7; }
.note-meta { font-size:11px; color:var(â€“text-muted); margin-top:8px; font-family:â€˜JetBrains Monoâ€™; }

/* XP Bar at top */
.xp-bar-container {
margin-bottom: 24px;
}
.xp-header { display:flex; justify-content:space-between; margin-bottom:8px; }
.xp-level { font-family:â€˜Outfitâ€™; font-weight:700; font-size:14px; color:var(â€“accent-gold); }
.xp-numbers { font-family:â€˜JetBrains Monoâ€™; font-size:12px; color:var(â€“text-muted); }
.xp-track { height:8px; background:rgba(255,255,255,0.06); border-radius:4px; overflow:hidden; }
.xp-fill {
height:100%; border-radius:4px;
background: linear-gradient(90deg, var(â€“accent-gold), #fbbf24, var(â€“accent-emerald));
transition: width 1s ease; position:relative;
}
.xp-fill::after {
content:â€™â€™; position:absolute; inset:0;
background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
animation: shimmer 2s infinite;
}

/* Responsive */
@media (max-width: 768px) {
.grid-2, .grid-3 { grid-template-columns: 1fr; }
.header { flex-direction: column; gap: 12px; text-align: center; }
.header-right, .header-left { justify-content: center; }
.pomodoro-time { font-size: 48px; }
.motivation-banner { flex-direction: column; text-align: center; gap: 12px; }
.app-container { padding: 12px; }
}

/* Scrollbar */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 3px; }

/* Delete btn */
.delete-btn {
width: 28px; height: 28px; border-radius: 6px;
background: transparent; border: none;
color: var(â€“text-muted); cursor: pointer;
display: flex; align-items: center; justify-content: center;
font-size: 14px; transition: all 0.2s; flex-shrink: 0;
}
.delete-btn:hover { color: var(â€“accent-rose); background: rgba(244,63,94,0.1); }

.empty-state {
text-align: center; padding: 40px 20px;
color: var(â€“text-muted); font-size: 14px;
}
.empty-icon { font-size: 40px; margin-bottom: 12px; opacity: 0.5; }
</style>

</head>
<body>

<div class="stars" id="stars"></div>
<div class="ambient-bg"></div>

<div class="app-container">
  <!-- Header -->
  <header class="header">
    <div class="header-right">
      <div class="logo-icon">B</div>
      <div class="header-title">
        <h1 id="headerTitle">Ù„ÙˆØ­Ø© Ø­ÙŠØ§Ø© Ø¨Ø¯Ø±</h1>
        <div class="header-subtitle" id="headerSub">Bader's Life OS â€” Your Command Center</div>
      </div>
    </div>
    <div class="header-left">
      <div class="greeting-time" id="clockDisplay"></div>
      <button class="lang-toggle" onclick="toggleLang()" id="langBtn">EN / Ø¹</button>
    </div>
  </header>

  <!-- XP Bar -->

  <div class="xp-bar-container">
    <div class="xp-header">
      <span class="xp-level" id="xpLevel">â­ Level 1 â€” Ù…Ø¨ØªØ¯Ø¦ Ø·Ù…ÙˆØ­</span>
      <span class="xp-numbers" id="xpNumbers">0 / 100 XP</span>
    </div>
    <div class="xp-track">
      <div class="xp-fill" id="xpFill" style="width:0%"></div>
    </div>
  </div>

  <!-- Motivation -->

  <div class="motivation-banner" onclick="nextMotivation()">
    <div class="motivation-text" id="motivationText">Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡... ÙŠÙˆÙ…Ùƒ Ø§Ù„Ø¬Ø¯ÙŠØ¯ ÙØ±ØµØ© Ø¬Ø¯ÙŠØ¯Ø© ğŸŒŸ</div>
    <div class="motivation-icon">âœ¨</div>
  </div>

  <!-- Tabs -->

  <nav class="tab-nav" id="tabNav">
    <button class="tab-btn active" data-tab="overview">
      <span class="tab-icon">ğŸ“Š</span><span class="tab-text" data-ar="Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©" data-en="Overview">Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©</span>
    </button>
    <button class="tab-btn" data-tab="habits">
      <span class="tab-icon">ğŸ”¥</span><span class="tab-text" data-ar="Ø§Ù„Ø¹Ø§Ø¯Ø§Øª" data-en="Habits">Ø§Ù„Ø¹Ø§Ø¯Ø§Øª</span>
    </button>
    <button class="tab-btn" data-tab="goals">
      <span class="tab-icon">ğŸ¯</span><span class="tab-text" data-ar="Ø§Ù„Ø£Ù‡Ø¯Ø§Ù" data-en="Goals">Ø§Ù„Ø£Ù‡Ø¯Ø§Ù</span>
    </button>
    <button class="tab-btn" data-tab="skills">
      <span class="tab-icon">âš¡</span><span class="tab-text" data-ar="Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª" data-en="Skills">Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª</span>
    </button>
    <button class="tab-btn" data-tab="finance">
      <span class="tab-icon">ğŸ’°</span><span class="tab-text" data-ar="Ø§Ù„Ù…Ø§Ù„ÙŠØ©" data-en="Finance">Ø§Ù„Ù…Ø§Ù„ÙŠØ©</span>
    </button>
    <button class="tab-btn" data-tab="pomodoro">
      <span class="tab-icon">â±ï¸</span><span class="tab-text" data-ar="Ø¨ÙˆÙ…ÙˆØ¯ÙˆØ±Ùˆ" data-en="Pomodoro">Ø¨ÙˆÙ…ÙˆØ¯ÙˆØ±Ùˆ</span>
    </button>
    <button class="tab-btn" data-tab="journal">
      <span class="tab-icon">ğŸ“</span><span class="tab-text" data-ar="Ø§Ù„ÙŠÙˆÙ…ÙŠØ§Øª" data-en="Journal">Ø§Ù„ÙŠÙˆÙ…ÙŠØ§Øª</span>
    </button>
    <button class="tab-btn" data-tab="azkar">
      <span class="tab-icon">ğŸ¤²</span><span class="tab-text" data-ar="Ø£Ø°ÙƒØ§Ø±" data-en="Azkar">Ø£Ø°ÙƒØ§Ø±</span>
    </button>
    <button class="tab-btn" data-tab="notes">
      <span class="tab-icon">ğŸ“Œ</span><span class="tab-text" data-ar="Ù…Ù„Ø§Ø­Ø¸Ø§Øª" data-en="Notes">Ù…Ù„Ø§Ø­Ø¸Ø§Øª</span>
    </button>
  </nav>

  <!-- ============ OVERVIEW ============ -->

  <div class="tab-content active" id="tab-overview">
    <div class="grid-3" id="overviewStats">
      <div class="stat-card gold">
        <div class="stat-icon">ğŸ”¥</div>
        <div class="stat-value" id="statHabits">0/0</div>
        <div class="stat-label" data-ar="Ø¹Ø§Ø¯Ø§Øª Ø§Ù„ÙŠÙˆÙ…" data-en="Today's Habits">Ø¹Ø§Ø¯Ø§Øª Ø§Ù„ÙŠÙˆÙ…</div>
      </div>
      <div class="stat-card emerald">
        <div class="stat-icon">ğŸ¯</div>
        <div class="stat-value" id="statGoals">0</div>
        <div class="stat-label" data-ar="Ø£Ù‡Ø¯Ø§Ù Ù†Ø´Ø·Ø©" data-en="Active Goals">Ø£Ù‡Ø¯Ø§Ù Ù†Ø´Ø·Ø©</div>
      </div>
      <div class="stat-card blue">
        <div class="stat-icon">â±ï¸</div>
        <div class="stat-value" id="statPomo">0</div>
        <div class="stat-label" data-ar="Ø¬Ù„Ø³Ø§Øª ØªØ±ÙƒÙŠØ²" data-en="Focus Sessions">Ø¬Ù„Ø³Ø§Øª ØªØ±ÙƒÙŠØ²</div>
      </div>
      <div class="stat-card purple">
        <div class="stat-icon">âš¡</div>
        <div class="stat-value" id="statXP">0</div>
        <div class="stat-label" data-ar="Ù†Ù‚Ø§Ø· Ø§Ù„Ø®Ø¨Ø±Ø©" data-en="Total XP">Ù†Ù‚Ø§Ø· Ø§Ù„Ø®Ø¨Ø±Ø©</div>
      </div>
      <div class="stat-card rose">
        <div class="stat-icon">ğŸ“</div>
        <div class="stat-value" id="statJournal">0</div>
        <div class="stat-label" data-ar="ÙŠÙˆÙ…ÙŠØ§Øª" data-en="Journal Entries">ÙŠÙˆÙ…ÙŠØ§Øª</div>
      </div>
      <div class="stat-card cyan">
        <div class="stat-icon">ğŸ¤²</div>
        <div class="stat-value" id="statAzkar">0</div>
        <div class="stat-label" data-ar="Ø£Ø°ÙƒØ§Ø± Ø§Ù„ÙŠÙˆÙ…" data-en="Today's Azkar">Ø£Ø°ÙƒØ§Ø± Ø§Ù„ÙŠÙˆÙ…</div>
      </div>
    </div>

```
<div class="grid-2" style="margin-top:16px">
  <div class="card">
    <div class="card-header">
      <div class="card-title">ğŸ”¥ <span data-ar="Ø¹Ø§Ø¯Ø§Øª Ø§Ù„ÙŠÙˆÙ…" data-en="Today's Habits">Ø¹Ø§Ø¯Ø§Øª Ø§Ù„ÙŠÙˆÙ…</span></div>
    </div>
    <div id="overviewHabits"><div class="empty-state"><div class="empty-icon">ğŸ”¥</div>Ø£Ø¶Ù Ø¹Ø§Ø¯Ø§Øª Ù…Ù† ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø¹Ø§Ø¯Ø§Øª</div></div>
  </div>
  <div class="card">
    <div class="card-header">
      <div class="card-title">ğŸ¯ <span data-ar="ØªÙ‚Ø¯Ù… Ø§Ù„Ø£Ù‡Ø¯Ø§Ù" data-en="Goals Progress">ØªÙ‚Ø¯Ù… Ø§Ù„Ø£Ù‡Ø¯Ø§Ù</span></div>
    </div>
    <div id="overviewGoals"><div class="empty-state"><div class="empty-icon">ğŸ¯</div>Ø£Ø¶Ù Ø£Ù‡Ø¯Ø§Ù Ù…Ù† ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù</div></div>
  </div>
</div>
```

  </div>

  <!-- ============ HABITS ============ -->

  <div class="tab-content" id="tab-habits">
    <div class="card">
      <div class="card-header">
        <div class="card-title">ğŸ”¥ <span data-ar="Ø¹Ø§Ø¯Ø§ØªÙŠ Ø§Ù„ÙŠÙˆÙ…ÙŠØ©" data-en="Daily Habits">Ø¹Ø§Ø¯Ø§ØªÙŠ Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</span></div>
        <div class="card-badge" style="background:rgba(245,158,11,0.15);color:var(--accent-gold)" id="habitScore">0%</div>
      </div>
      <div id="habitsList"></div>
      <div class="input-row">
        <input class="text-input" id="habitInput" placeholder="Ø£Ø¶Ù Ø¹Ø§Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø©... / Add new habit..." onkeypress="if(event.key==='Enter')addHabit()">
        <button class="btn btn-gold" onclick="addHabit()">+</button>
      </div>
    </div>
  </div>

  <!-- ============ GOALS ============ -->

  <div class="tab-content" id="tab-goals">
    <div class="card">
      <div class="card-header">
        <div class="card-title">ğŸ¯ <span data-ar="Ø£Ù‡Ø¯Ø§ÙÙŠ" data-en="My Goals">Ø£Ù‡Ø¯Ø§ÙÙŠ</span></div>
      </div>
      <div id="goalsList"></div>
      <div class="input-row">
        <input class="text-input" id="goalInput" placeholder="Ø£Ø¶Ù Ù‡Ø¯Ù Ø¬Ø¯ÙŠØ¯... / Add new goal..." onkeypress="if(event.key==='Enter')addGoal()">
        <button class="btn btn-gold" onclick="addGoal()">+</button>
      </div>
    </div>
  </div>

  <!-- ============ SKILLS ============ -->

  <div class="tab-content" id="tab-skills">
    <div class="card">
      <div class="card-header">
        <div class="card-title">âš¡ <span data-ar="Ø´Ø¬Ø±Ø© Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª" data-en="Skill Tree">Ø´Ø¬Ø±Ø© Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª</span></div>
      </div>
      <div id="skillsList"></div>
      <div class="input-row">
        <input class="text-input" id="skillInput" placeholder="Ø£Ø¶Ù Ù…Ù‡Ø§Ø±Ø©... / Add skill..." onkeypress="if(event.key==='Enter')addSkill()">
        <button class="btn btn-gold" onclick="addSkill()">+</button>
      </div>
    </div>
  </div>

  <!-- ============ FINANCE ============ -->

  <div class="tab-content" id="tab-finance">
    <div class="card">
      <div class="finance-total">
        <div style="font-size:13px;color:var(--text-muted);margin-bottom:4px" data-ar="Ø§Ù„Ø±ØµÙŠØ¯" data-en="Balance">Ø§Ù„Ø±ØµÙŠØ¯</div>
        <div class="finance-amount" id="financeBalance">$0.00</div>
      </div>
      <div id="financeList"></div>
      <div class="input-row" style="margin-top:12px">
        <input class="text-input" id="financeDesc" placeholder="Ø§Ù„ÙˆØµÙ / Description" style="flex:2">
        <input class="text-input" id="financeAmount" type="number" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº / Amount" style="flex:1;direction:ltr">
        <button class="btn btn-gold btn-sm" onclick="addFinance('income')" style="background:rgba(16,185,129,0.2);color:var(--accent-emerald)">+</button>
        <button class="btn btn-sm btn-danger" onclick="addFinance('expense')">âˆ’</button>
      </div>
    </div>
  </div>

  <!-- ============ POMODORO ============ -->

  <div class="tab-content" id="tab-pomodoro">
    <div class="card">
      <div class="pomodoro-display">
        <div class="pomodoro-time" id="pomoTime">25:00</div>
        <div class="pomodoro-label" id="pomoLabel" data-ar="ÙˆÙ‚Øª Ø§Ù„ØªØ±ÙƒÙŠØ²" data-en="Focus Time">ÙˆÙ‚Øª Ø§Ù„ØªØ±ÙƒÙŠØ²</div>
        <div class="pomodoro-controls">
          <button class="btn btn-gold" id="pomoStartBtn" onclick="togglePomo()">
            <span data-ar="Ø§Ø¨Ø¯Ø£" data-en="Start">Ø§Ø¨Ø¯Ø£</span>
          </button>
          <button class="btn btn-ghost" onclick="resetPomo()">
            <span data-ar="Ø¥Ø¹Ø§Ø¯Ø©" data-en="Reset">Ø¥Ø¹Ø§Ø¯Ø©</span>
          </button>
        </div>
        <div class="pomodoro-stats">
          <div class="pomo-stat">
            <div class="pomo-stat-val" id="pomoSessions">0</div>
            <div class="pomo-stat-lbl" data-ar="Ø¬Ù„Ø³Ø§Øª" data-en="Sessions">Ø¬Ù„Ø³Ø§Øª</div>
          </div>
          <div class="pomo-stat">
            <div class="pomo-stat-val" id="pomoTotalMin">0</div>
            <div class="pomo-stat-lbl" data-ar="Ø¯Ù‚Ø§Ø¦Ù‚ ØªØ±ÙƒÙŠØ²" data-en="Focus Mins">Ø¯Ù‚Ø§Ø¦Ù‚ ØªØ±ÙƒÙŠØ²</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ============ JOURNAL ============ -->

  <div class="tab-content" id="tab-journal">
    <div class="card">
      <div class="card-header">
        <div class="card-title">ğŸ“ <span data-ar="ÙŠÙˆÙ…ÙŠØ§ØªÙŠ" data-en="My Journal">ÙŠÙˆÙ…ÙŠØ§ØªÙŠ</span></div>
      </div>
      <div style="margin-bottom:12px">
        <textarea class="text-input" id="journalInput" placeholder="Ø§ÙƒØªØ¨ Ø£ÙÙƒØ§Ø±Ùƒ... Ù…Ø§ Ø§Ù„Ø°ÙŠ Ø­Ø¯Ø« Ø§Ù„ÙŠÙˆÙ…ØŸ / Write your thoughts..."></textarea>
        <div class="input-row" style="margin-top:8px">
          <select class="text-input" id="journalMood" style="flex:0 0 auto;width:auto">
            <option value="ğŸ˜Š">ğŸ˜Š Ø³Ø¹ÙŠØ¯</option>
            <option value="ğŸ˜">ğŸ˜ Ø¹Ø§Ø¯ÙŠ</option>
            <option value="ğŸ˜”">ğŸ˜” Ø­Ø²ÙŠÙ†</option>
            <option value="ğŸ”¥">ğŸ”¥ Ù…ØªØ­Ù…Ø³</option>
            <option value="ğŸ˜¤">ğŸ˜¤ Ù…Ø­Ø¨Ø·</option>
            <option value="ğŸ¤²">ğŸ¤² Ø´Ø§ÙƒØ±</option>
          </select>
          <button class="btn btn-gold" onclick="addJournal()"><span data-ar="Ø­ÙØ¸" data-en="Save">Ø­ÙØ¸</span></button>
        </div>
      </div>
      <div id="journalList"></div>
    </div>
  </div>

  <!-- ============ AZKAR ============ -->

  <div class="tab-content" id="tab-azkar">
    <div id="azkarList"></div>
  </div>

  <!-- ============ NOTES ============ -->

  <div class="tab-content" id="tab-notes">
    <div class="card">
      <div class="card-header">
        <div class="card-title">ğŸ“Œ <span data-ar="Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙŠ" data-en="My Notes">Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙŠ</span></div>
      </div>
      <div style="margin-bottom:12px">
        <input class="text-input" id="noteTitle" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† / Title" style="margin-bottom:8px">
        <textarea class="text-input" id="noteBody" placeholder="Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©... / Note content..."></textarea>
        <div class="input-row" style="margin-top:8px">
          <button class="btn btn-gold" onclick="addNote()"><span data-ar="Ø­ÙØ¸" data-en="Save">Ø­ÙØ¸</span></button>
        </div>
      </div>
      <div id="notesList"></div>
    </div>
  </div>
</div>

<script>
// ==================== STATE ====================
let state = {
  lang: 'ar',
  xp: 0,
  habits: [],
  goals: [],
  skills: [],
  finance: [],
  journal: [],
  notes: [],
  pomoSessions: 0,
  pomoTotalMin: 0,
  azkarCounts: {},
  motivationIdx: 0
};

// Load from localStorage
function loadState() {
  try {
    const saved = localStorage.getItem('bader-life-os');
    if (saved) {
      const parsed = JSON.parse(saved);
      state = { ...state, ...parsed };
      // Reset habits completion if new day
      const today = new Date().toDateString();
      if (parsed.lastHabitDate !== today) {
        state.habits.forEach(h => h.completed = false);
        state.azkarCounts = {};
        state.lastHabitDate = today;
      }
    }
  } catch(e) {}
}

function saveState() {
  state.lastHabitDate = new Date().toDateString();
  try { localStorage.setItem('bader-life-os', JSON.stringify(state)); } catch(e) {}
}

// ==================== MOTIVATION ====================
const motivations = [
  { ar: 'Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡... ÙŠÙˆÙ…Ùƒ Ø§Ù„Ø¬Ø¯ÙŠØ¯ ÙØ±ØµØ© Ø¬Ø¯ÙŠØ¯Ø© ğŸŒŸ', en: 'Bismillah... A new day, a new opportunity ğŸŒŸ' },
  { ar: 'Ø§Ù„ØµØ¨Ø± Ù…ÙØªØ§Ø­ Ø§Ù„ÙØ±Ø¬... Ø£Ù†Øª Ø£Ù‚Ø±Ø¨ Ù…Ù…Ø§ ØªØ¸Ù† ğŸ’ª', en: 'Patience is the key... You\'re closer than you think ğŸ’ª' },
  { ar: '"ÙˆÙÙ…ÙÙ† ÙŠÙØªÙÙ‘Ù‚Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙŠÙØ¬Ù’Ø¹ÙÙ„ Ù„ÙÙ‘Ù‡Ù Ù…ÙØ®Ù’Ø±ÙØ¬Ù‹Ø§" â€” Ø§Ù„Ø·Ù„Ø§Ù‚:2', en: '"Whoever fears Allah, He will make a way out for them" â€” 65:2' },
  { ar: 'ÙƒÙ„ Ø³Ø·Ø± ÙƒÙˆØ¯ ØªÙƒØªØ¨Ù‡ ÙŠÙ‚Ø±Ø¨Ùƒ Ù…Ù† Ø­Ù„Ù…Ùƒ ğŸš€', en: 'Every line of code brings you closer to your dream ğŸš€' },
  { ar: 'Ù…Ù† Ù„ÙŠØ¨ÙŠØ§ Ù„Ù„Ø¹Ø§Ù„Ù…ÙŠØ©... Ù‡Ø°Ø§ Ø·Ø±ÙŠÙ‚Ùƒ ÙŠØ§ Ø¨Ø¯Ø± ğŸ‡±ğŸ‡¾', en: 'From Libya to the world... This is your path, Bader ğŸ‡±ğŸ‡¾' },
  { ar: 'Ø§Ù„Ø­Ù„Ø§Ù„ Ù…Ø¨Ø§Ø±Ùƒ... Ø§Ø³ØªÙ…Ø± Ø¹Ù„Ù‰ Ø·Ø±ÙŠÙ‚ Ø§Ù„Ø®ÙŠØ± âœ¨', en: 'Halal earnings are blessed... Keep on the right path âœ¨' },
  { ar: '"Ø¥ÙÙ†ÙÙ‘ Ù…ÙØ¹Ù Ø§Ù„Ù’Ø¹ÙØ³Ù’Ø±Ù ÙŠÙØ³Ù’Ø±Ù‹Ø§" â€” Ø§Ù„Ø´Ø±Ø­:6', en: '"With hardship comes ease" â€” 94:6' },
  { ar: 'Ø§Ù„ÙŠÙˆÙ… Ø£ÙØ¶Ù„ Ù…Ù† Ø£Ù…Ø³... ÙˆØºØ¯Ø§Ù‹ Ø£ÙØ¶Ù„ Ø¨Ø¥Ø°Ù† Ø§Ù„Ù„Ù‡', en: 'Today is better than yesterday... Tomorrow even better, Insha\'Allah' },
  { ar: 'ØªØ¹Ù„Ù…Ùƒ ÙˆÙ…Ø«Ø§Ø¨Ø±ØªÙƒ Ø³Ù„Ø§Ø­Ùƒ... Ù„Ø§ ØªØªÙˆÙ‚Ù ğŸ”¥', en: 'Your learning and persistence are your weapons... Don\'t stop ğŸ”¥' },
  { ar: 'Ø±Ø¨Ùƒ ÙŠØ±Ø§Ùƒ ÙˆØ£Ù†Øª ØªØ­Ø§Ø±Ø¨... Ø§Ù„Ø£Ø¬Ø± Ù…Ø­ÙÙˆØ¸ ğŸ¤²', en: 'Allah sees your struggle... The reward is preserved ğŸ¤²' },
];

function nextMotivation() {
  state.motivationIdx = (state.motivationIdx + 1) % motivations.length;
  const m = motivations[state.motivationIdx];
  document.getElementById('motivationText').textContent = state.lang === 'ar' ? m.ar : m.en;
}

// ==================== CLOCK ====================
function updateClock() {
  const now = new Date();
  const time = now.toLocaleTimeString('en-US', { hour:'2-digit', minute:'2-digit', second:'2-digit' });
  const date = now.toLocaleDateString(state.lang === 'ar' ? 'ar-LY' : 'en-US', { weekday:'long', year:'numeric', month:'long', day:'numeric' });
  document.getElementById('clockDisplay').innerHTML = `<div style="font-size:16px;font-weight:600">${time}</div><div style="font-size:11px">${date}</div>`;
}

// ==================== LANGUAGE ====================
function toggleLang() {
  state.lang = state.lang === 'ar' ? 'en' : 'ar';
  document.documentElement.dir = state.lang === 'ar' ? 'rtl' : 'ltr';
  document.querySelectorAll('[data-ar]').forEach(el => {
    el.textContent = state.lang === 'ar' ? el.dataset.ar : el.dataset.en;
  });
  document.getElementById('headerTitle').textContent = state.lang === 'ar' ? 'Ù„ÙˆØ­Ø© Ø­ÙŠØ§Ø© Ø¨Ø¯Ø±' : "Bader's Life OS";
  const m = motivations[state.motivationIdx];
  document.getElementById('motivationText').textContent = state.lang === 'ar' ? m.ar : m.en;
  saveState();
  renderAll();
}

// ==================== TABS ====================
document.querySelectorAll('.tab-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
    btn.classList.add('active');
    document.getElementById('tab-' + btn.dataset.tab).classList.add('active');
  });
});

// ==================== XP SYSTEM ====================
function addXP(amount) {
  state.xp += amount;
  saveState();
  updateXP();
}

function updateXP() {
  const level = Math.floor(state.xp / 100) + 1;
  const xpInLevel = state.xp % 100;
  const levelNames = {
    ar: ['Ù…Ø¨ØªØ¯Ø¦ Ø·Ù…ÙˆØ­','Ù…ØªØ¹Ù„Ù… Ù†Ø´Ø·','Ù…Ø·ÙˆØ± ÙˆØ§Ø¹Ø¯','Ù…Ø­Ø§Ø±Ø¨ Ø±Ù‚Ù…ÙŠ','Ù†Ø¬Ù… ØµØ§Ø¹Ø¯','Ù…Ø­ØªØ±Ù','Ø®Ø¨ÙŠØ±','Ø£Ø³Ø·ÙˆØ±Ø©','Ù‚Ø§Ø¦Ø¯','Ù…Ù„Ù‡Ù… Ø§Ù„Ø¹Ø§Ù„Ù…'],
    en: ['Ambitious Beginner','Active Learner','Promising Dev','Digital Warrior','Rising Star','Professional','Expert','Legend','Leader','World Inspirer']
  };
  const idx = Math.min(level - 1, levelNames.ar.length - 1);
  const name = state.lang === 'ar' ? levelNames.ar[idx] : levelNames.en[idx];
  document.getElementById('xpLevel').textContent = `â­ Level ${level} â€” ${name}`;
  document.getElementById('xpNumbers').textContent = `${xpInLevel} / 100 XP`;
  document.getElementById('xpFill').style.width = xpInLevel + '%';
  document.getElementById('statXP').textContent = state.xp;
}

// ==================== HABITS ====================
function addHabit() {
  const input = document.getElementById('habitInput');
  const name = input.value.trim();
  if (!name) return;
  state.habits.push({ id: Date.now(), name, completed: false, streak: 0 });
  input.value = '';
  saveState(); renderHabits(); updateOverview();
}

function toggleHabit(id) {
  const h = state.habits.find(x => x.id === id);
  if (!h) return;
  h.completed = !h.completed;
  if (h.completed) { h.streak++; addXP(10); } else { h.streak = Math.max(0, h.streak - 1); }
  saveState(); renderHabits(); updateOverview();
}

function deleteHabit(id) {
  state.habits = state.habits.filter(x => x.id !== id);
  saveState(); renderHabits(); updateOverview();
}

function renderHabits() {
  const el = document.getElementById('habitsList');
  if (!state.habits.length) {
    el.innerHTML = `<div class="empty-state"><div class="empty-icon">ğŸ”¥</div>${state.lang==='ar'?'Ø£Ø¶Ù Ø¹Ø§Ø¯ØªÙƒ Ø§Ù„Ø£ÙˆÙ„Ù‰':'Add your first habit'}</div>`;
    document.getElementById('habitScore').textContent = '0%';
    return;
  }
  el.innerHTML = state.habits.map(h => `
    <div class="habit-item ${h.completed?'completed':''}" onclick="toggleHabit(${h.id})">
      <div class="habit-check">${h.completed?'âœ“':''}</div>
      <div class="habit-name">${h.name}</div>
      <div class="habit-streak">ğŸ”¥ ${h.streak}</div>
      <button class="delete-btn" onclick="event.stopPropagation();deleteHabit(${h.id})">Ã—</button>
    </div>
  `).join('');
  const done = state.habits.filter(h=>h.completed).length;
  const pct = Math.round((done/state.habits.length)*100);
  document.getElementById('habitScore').textContent = pct + '%';
}

// ==================== GOALS ====================
function addGoal() {
  const input = document.getElementById('goalInput');
  const name = input.value.trim();
  if (!name) return;
  state.goals.push({ id: Date.now(), name, progress: 0 });
  input.value = '';
  saveState(); renderGoals(); updateOverview();
}

function updateGoalProgress(id, delta) {
  const g = state.goals.find(x => x.id === id);
  if (!g) return;
  g.progress = Math.max(0, Math.min(100, g.progress + delta));
  if (g.progress === 100) addXP(50);
  saveState(); renderGoals(); updateOverview();
}

function deleteGoal(id) {
  state.goals = state.goals.filter(x => x.id !== id);
  saveState(); renderGoals(); updateOverview();
}

function renderGoals() {
  const el = document.getElementById('goalsList');
  if (!state.goals.length) {
    el.innerHTML = `<div class="empty-state"><div class="empty-icon">ğŸ¯</div>${state.lang==='ar'?'Ø£Ø¶Ù Ù‡Ø¯ÙÙƒ Ø§Ù„Ø£ÙˆÙ„':'Add your first goal'}</div>`;
    return;
  }
  el.innerHTML = state.goals.map(g => `
    <div class="goal-item">
      <div class="goal-top">
        <div class="goal-name">${g.name}</div>
        <div style="display:flex;align-items:center;gap:8px">
          <div class="goal-percent">${g.progress}%</div>
          <button class="delete-btn" onclick="deleteGoal(${g.id})">Ã—</button>
        </div>
      </div>
      <div class="goal-bar"><div class="goal-fill" style="width:${g.progress}%"></div></div>
      <div style="display:flex;gap:6px;margin-top:8px">
        <button class="btn btn-ghost btn-sm" onclick="updateGoalProgress(${g.id},-10)">-10%</button>
        <button class="btn btn-ghost btn-sm" onclick="updateGoalProgress(${g.id},10)">+10%</button>
        <button class="btn btn-ghost btn-sm" onclick="updateGoalProgress(${g.id},25)">+25%</button>
      </div>
    </div>
  `).join('');
}

// ==================== SKILLS ====================
const skillColors = ['var(--accent-gold)','var(--accent-emerald)','var(--accent-blue)','var(--accent-purple)','var(--accent-cyan)','var(--accent-rose)'];

function addSkill() {
  const input = document.getElementById('skillInput');
  const name = input.value.trim();
  if (!name) return;
  state.skills.push({ id: Date.now(), name, xp: 0 });
  input.value = '';
  saveState(); renderSkills();
}

function addSkillXP(id, amount) {
  const s = state.skills.find(x => x.id === id);
  if (!s) return;
  s.xp += amount;
  addXP(amount);
  saveState(); renderSkills();
}

function deleteSkill(id) {
  state.skills = state.skills.filter(x => x.id !== id);
  saveState(); renderSkills();
}

function renderSkills() {
  const el = document.getElementById('skillsList');
  if (!state.skills.length) {
    el.innerHTML = `<div class="empty-state"><div class="empty-icon">âš¡</div>${state.lang==='ar'?'Ø£Ø¶Ù Ù…Ù‡Ø§Ø±ØªÙƒ Ø§Ù„Ø£ÙˆÙ„Ù‰':'Add your first skill'}</div>`;
    return;
  }
  el.innerHTML = state.skills.map((s, i) => {
    const level = Math.floor(s.xp / 50) + 1;
    const xpInLvl = s.xp % 50;
    const color = skillColors[i % skillColors.length];
    return `
    <div class="skill-item">
      <div class="skill-level" style="background:${color}22;color:${color}">${level}</div>
      <div class="skill-info">
        <div class="skill-name">${s.name}</div>
        <div class="skill-xp-bar"><div class="skill-xp-fill" style="width:${(xpInLvl/50)*100}%;background:${color}"></div></div>
      </div>
      <button class="btn btn-ghost btn-sm" onclick="addSkillXP(${s.id},10)">+10 XP</button>
      <button class="delete-btn" onclick="deleteSkill(${s.id})">Ã—</button>
    </div>`;
  }).join('');
}

// ==================== FINANCE ====================
function addFinance(type) {
  const desc = document.getElementById('financeDesc').value.trim();
  const amount = parseFloat(document.getElementById('financeAmount').value);
  if (!desc || isNaN(amount) || amount <= 0) return;
  state.finance.push({ id: Date.now(), desc, amount: type==='income'?amount:-amount, type, date: new Date().toLocaleDateString() });
  document.getElementById('financeDesc').value = '';
  document.getElementById('financeAmount').value = '';
  saveState(); renderFinance();
}

function deleteFinance(id) {
  state.finance = state.finance.filter(x => x.id !== id);
  saveState(); renderFinance();
}

function renderFinance() {
  const balance = state.finance.reduce((sum, f) => sum + f.amount, 0);
  document.getElementById('financeBalance').textContent = `$${balance.toFixed(2)}`;
  document.getElementById('financeBalance').style.color = balance >= 0 ? 'var(--accent-emerald)' : 'var(--accent-rose)';
  const el = document.getElementById('financeList');
  if (!state.finance.length) {
    el.innerHTML = `<div class="empty-state"><div class="empty-icon">ğŸ’°</div>${state.lang==='ar'?'Ø³Ø¬Ù„ Ø£ÙˆÙ„ Ù…Ø¹Ø§Ù…Ù„Ø©':'Add first transaction'}</div>`;
    return;
  }
  el.innerHTML = [...state.finance].reverse().slice(0, 20).map(f => `
    <div class="finance-item">
      <div class="finance-item-name">${f.desc} <span style="font-size:11px;color:var(--text-muted)">${f.date}</span></div>
      <div style="display:flex;align-items:center;gap:8px">
        <div class="finance-item-amount ${f.type}">${f.amount > 0 ? '+' : ''}${f.amount.toFixed(2)}</div>
        <button class="delete-btn" onclick="deleteFinance(${f.id})">Ã—</button>
      </div>
    </div>
  `).join('');
}

// ==================== POMODORO ====================
let pomoInterval = null;
let pomoSeconds = 25 * 60;
let pomoRunning = false;

function togglePomo() {
  if (pomoRunning) {
    clearInterval(pomoInterval);
    pomoRunning = false;
    document.querySelector('#pomoStartBtn span').textContent = state.lang === 'ar' ? 'Ø§Ø³ØªÙ…Ø±' : 'Resume';
  } else {
    pomoRunning = true;
    document.querySelector('#pomoStartBtn span').textContent = state.lang === 'ar' ? 'Ø¥ÙŠÙ‚Ø§Ù' : 'Pause';
    pomoInterval = setInterval(() => {
      pomoSeconds--;
      if (pomoSeconds <= 0) {
        clearInterval(pomoInterval);
        pomoRunning = false;
        state.pomoSessions++;
        state.pomoTotalMin += 25;
        addXP(25);
        pomoSeconds = 25 * 60;
        document.querySelector('#pomoStartBtn span').textContent = state.lang === 'ar' ? 'Ø§Ø¨Ø¯Ø£' : 'Start';
        saveState();
        updateOverview();
        try { new Audio('data:audio/wav;base64,UklGRl9vT19teledata').play(); } catch(e){}
        alert(state.lang === 'ar' ? 'ğŸ‰ Ø£Ø­Ø³Ù†Øª! Ø£ÙƒÙ…Ù„Øª Ø¬Ù„Ø³Ø© ØªØ±ÙƒÙŠØ²' : 'ğŸ‰ Great job! Focus session complete');
      }
      renderPomoTime();
    }, 1000);
  }
}

function resetPomo() {
  clearInterval(pomoInterval);
  pomoRunning = false;
  pomoSeconds = 25 * 60;
  document.querySelector('#pomoStartBtn span').textContent = state.lang === 'ar' ? 'Ø§Ø¨Ø¯Ø£' : 'Start';
  renderPomoTime();
}

function renderPomoTime() {
  const m = Math.floor(pomoSeconds / 60).toString().padStart(2, '0');
  const s = (pomoSeconds % 60).toString().padStart(2, '0');
  document.getElementById('pomoTime').textContent = `${m}:${s}`;
  document.getElementById('pomoSessions').textContent = state.pomoSessions;
  document.getElementById('pomoTotalMin').textContent = state.pomoTotalMin;
}

// ==================== JOURNAL ====================
function addJournal() {
  const text = document.getElementById('journalInput').value.trim();
  if (!text) return;
  const mood = document.getElementById('journalMood').value;
  state.journal.unshift({
    id: Date.now(), text, mood,
    date: new Date().toLocaleString(state.lang === 'ar' ? 'ar-LY' : 'en-US')
  });
  document.getElementById('journalInput').value = '';
  addXP(5);
  saveState(); renderJournal(); updateOverview();
}

function deleteJournal(id) {
  state.journal = state.journal.filter(x => x.id !== id);
  saveState(); renderJournal(); updateOverview();
}

function renderJournal() {
  const el = document.getElementById('journalList');
  if (!state.journal.length) {
    el.innerHTML = `<div class="empty-state"><div class="empty-icon">ğŸ“</div>${state.lang==='ar'?'Ø§ÙƒØªØ¨ Ø£ÙˆÙ„ ÙŠÙˆÙ…ÙŠØ©':'Write your first entry'}</div>`;
    return;
  }
  el.innerHTML = state.journal.map(j => `
    <div class="journal-entry">
      <div class="journal-date">${j.mood} ${j.date} <button class="delete-btn" style="display:inline;vertical-align:middle" onclick="deleteJournal(${j.id})">Ã—</button></div>
      <div class="journal-text">${j.text}</div>
    </div>
  `).join('');
}

// ==================== AZKAR ====================
const azkarData = [
  { ar: 'Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡', en: 'SubhanAllah', target: 33 },
  { ar: 'Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡', en: 'Alhamdulillah', target: 33 },
  { ar: 'Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±', en: 'Allahu Akbar', target: 34 },
  { ar: 'Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡', en: 'La ilaha illa Allah', target: 100 },
  { ar: 'Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡', en: 'Astaghfirullah', target: 100 },
  { ar: 'Ù„Ø§ Ø­ÙˆÙ„ ÙˆÙ„Ø§ Ù‚ÙˆØ© Ø¥Ù„Ø§ Ø¨Ø§Ù„Ù„Ù‡', en: 'La hawla wala quwwata illa billah', target: 33 },
];

function countAzkar(idx) {
  const key = 'azkar_' + idx;
  state.azkarCounts[key] = (state.azkarCounts[key] || 0) + 1;
  if (state.azkarCounts[key] === azkarData[idx].target) addXP(5);
  saveState(); renderAzkar(); updateOverview();
}

function resetAzkar(idx) {
  state.azkarCounts['azkar_' + idx] = 0;
  saveState(); renderAzkar(); updateOverview();
}

function renderAzkar() {
  const el = document.getElementById('azkarList');
  el.innerHTML = azkarData.map((a, i) => {
    const count = state.azkarCounts['azkar_' + i] || 0;
    const done = count >= a.target;
    return `
    <div class="dua-card" style="${done?'border-color:rgba(16,185,129,0.3);background:linear-gradient(135deg,rgba(16,185,129,0.08),rgba(16,185,129,0.03))':''}">
      <div class="dua-text">${state.lang==='ar'?a.ar:a.en}</div>
      <div class="dua-counter">
        <button class="counter-btn" onclick="resetAzkar(${i})">â†º</button>
        <div class="counter-val">${count} / ${a.target}</div>
        <button class="counter-btn" onclick="countAzkar(${i})" style="font-size:24px;${done?'background:rgba(16,185,129,0.2);color:var(--accent-emerald)':''}">+</button>
      </div>
    </div>`;
  }).join('');
}

// ==================== NOTES ====================
function addNote() {
  const title = document.getElementById('noteTitle').value.trim();
  const body = document.getElementById('noteBody').value.trim();
  if (!body) return;
  state.notes.unshift({
    id: Date.now(), title: title || (state.lang==='ar'?'Ù…Ù„Ø§Ø­Ø¸Ø©':'Note'),
    body, date: new Date().toLocaleString(state.lang==='ar'?'ar-LY':'en-US')
  });
  document.getElementById('noteTitle').value = '';
  document.getElementById('noteBody').value = '';
  addXP(3);
  saveState(); renderNotes();
}

function deleteNote(id) {
  state.notes = state.notes.filter(x => x.id !== id);
  saveState(); renderNotes();
}

function renderNotes() {
  const el = document.getElementById('notesList');
  if (!state.notes.length) {
    el.innerHTML = `<div class="empty-state"><div class="empty-icon">ğŸ“Œ</div>${state.lang==='ar'?'Ø£Ø¶Ù Ø£ÙˆÙ„ Ù…Ù„Ø§Ø­Ø¸Ø©':'Add your first note'}</div>`;
    return;
  }
  el.innerHTML = state.notes.map(n => `
    <div class="note-card">
      <div style="display:flex;justify-content:space-between;align-items:start">
        <div class="note-title">${n.title}</div>
        <button class="delete-btn" onclick="deleteNote(${n.id})">Ã—</button>
      </div>
      <div class="note-body">${n.body}</div>
      <div class="note-meta">${n.date}</div>
    </div>
  `).join('');
}

// ==================== OVERVIEW ====================
function updateOverview() {
  const habitsDone = state.habits.filter(h=>h.completed).length;
  document.getElementById('statHabits').textContent = `${habitsDone}/${state.habits.length}`;
  document.getElementById('statGoals').textContent = state.goals.length;
  document.getElementById('statPomo').textContent = state.pomoSessions;
  document.getElementById('statJournal').textContent = state.journal.length;
  const totalAzkar = Object.values(state.azkarCounts).reduce((s,v)=>s+v, 0);
  document.getElementById('statAzkar').textContent = totalAzkar;

  // Overview habits preview
  const ohEl = document.getElementById('overviewHabits');
  if (state.habits.length) {
    ohEl.innerHTML = state.habits.slice(0,5).map(h => `
      <div class="habit-item ${h.completed?'completed':''}" onclick="toggleHabit(${h.id})" style="margin-bottom:6px">
        <div class="habit-check">${h.completed?'âœ“':''}</div>
        <div class="habit-name">${h.name}</div>
      </div>
    `).join('');
  }

  // Overview goals preview
  const ogEl = document.getElementById('overviewGoals');
  if (state.goals.length) {
    ogEl.innerHTML = state.goals.slice(0,4).map(g => `
      <div style="margin-bottom:10px">
        <div style="display:flex;justify-content:space-between;margin-bottom:4px">
          <span style="font-size:13px">${g.name}</span>
          <span style="font-family:'JetBrains Mono';font-size:12px;color:var(--accent-gold)">${g.progress}%</span>
        </div>
        <div class="goal-bar"><div class="goal-fill" style="width:${g.progress}%"></div></div>
      </div>
    `).join('');
  }
}

// ==================== STARS ====================
function createStars() {
  const container = document.getElementById('stars');
  for (let i = 0; i < 60; i++) {
    const star = document.createElement('div');
    star.className = 'star';
    star.style.left = Math.random() * 100 + '%';
    star.style.top = Math.random() * 100 + '%';
    star.style.setProperty('--dur', (2 + Math.random() * 4) + 's');
    star.style.animationDelay = Math.random() * 3 + 's';
    if (Math.random() > 0.7) { star.style.width = '3px'; star.style.height = '3px'; }
    container.appendChild(star);
  }
}

// ==================== INIT ====================
function renderAll() {
  renderHabits(); renderGoals(); renderSkills();
  renderFinance(); renderPomoTime(); renderJournal();
  renderAzkar(); renderNotes(); updateXP(); updateOverview();
}

loadState();
createStars();
renderAll();
updateClock();
setInterval(updateClock, 1000);

// Welcome message on first visit
if (!localStorage.getItem('bader-life-os-welcomed')) {
  localStorage.setItem('bader-life-os-welcomed', 'true');
  setTimeout(() => {
    alert('ğŸŒŸ Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ø¯Ø±! Ù…Ø±Ø­Ø¨Ø§Ù‹ ÙÙŠ Ù„ÙˆØ­Ø© Ø­ÙŠØ§ØªÙƒ\nWelcome to your Life OS!\n\nÙ‡Ù†Ø§ ØªÙ‚Ø¯Ø± ØªØªØ§Ø¨Ø¹ Ø¹Ø§Ø¯Ø§ØªÙƒØŒ Ø£Ù‡Ø¯Ø§ÙÙƒØŒ Ù…Ù‡Ø§Ø±Ø§ØªÙƒØŒ Ù…ØµØ§Ø±ÙŠÙÙƒØŒ Ø£Ø°ÙƒØ§Ø±Ùƒ ÙˆØ£ÙƒØ«Ø±.\nEverything you need to level up your life!');
  }, 500);
}
</script>

</body>
</html>
